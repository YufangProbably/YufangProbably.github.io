<!DOCTYPE html>
<html>

<head>
<meta name="viewport" charset="utf-8" content="width=device-width">
<title>æœ‰å¤´è‹è‡</title>
<link rel="stylesheet" href="./style.css">
</head>

<body class="midbox">
<button id="home" onclick="alert('dude this is home')"></button>
<h1>æœ‰å¤´è‹è‡.jpg</h1>
<p>emm... æ€»ä¹‹æ¬¢è¿æ¥åˆ°æˆ‘çš„ç«™ç‚¹ï¼Ÿ</p><br/>
<p>è¿™é‡Œå®åœ¨æ²¡ä»€ä¹ˆèƒ½æ‹¿å¾—å‡ºæ‰‹çš„ï¼Œé™¤äº†é‚£å †ç¦»è°±çš„çº¢é’é…è‰²ã€‚çœ‹å•Šï¼Œè¿™å°ç ´ä¸œè¥¿ç”šè‡³æœ‰ä¸ª Home é”®ï¼Œç„¶åå…¶å®ƒåœ°æ–¹å°±ç›´æ¥æ‘†çƒ‚æˆè¿™ * æ ·ï¼Ÿ</p><br/>
<br/>
<div class="mid">
<textarea rows="6" cols="50" id="write" class="mid" placeholder="Please type..."></textarea>
<div class="br0"></div>
<button onclick="setWrite()">Commit to no where</button>
<button onclick="" class="mid reverse">The Useless Button</button>
<div class="br2"></div>
<hr/>
<div class="br2"></div>
<p>å®åœ¨é—²ç€å¯ä»¥æ¥çœ‹çœ‹ä¸‹é¢çš„éšä¾¿ä»€ä¹ˆä¸œè¥¿ã€‚</p>
<div class="br"></div>
<table>
<tr>
<td><a href="./brainfuck">Brainfuck è¿è¡Œ</a></td>
<td><a href="./highlight">ä»£ç é«˜äº®ç¼–è¾‘å™¨</a></td>
</tr>
</table>
</div>
<br/>

<script>
const setCookie = (name, value, exdays) => {
    document.cookie = `${name}=${value};max-age=${86400 * exdays}`;
}

const delCookie = name => setCookie(name, "", 0);
const getCookie = name => document.cookie.replace(
    new RegExp(`(?:(?:^|.*;\\s*)${name}\\s*\\=\\s*([^;]*).*$)|^.*$`),
    "$1",
);

const setWrite = () => {
    let text = document.getElementById("write").value;
    // alert(`ğŸ‘You just commited ${text ? '"'+text+'"' : "Nothing"}ğŸ‘`);
    setCookie("message", document.getElementById("write").value, 365)
};

document.getElementById("write").value = getCookie("message");

const params = new URL(document.location.href).searchParams;
if (params.get("type") == "writeonly") {
    setCookie("message", params.get("text"), 365);
    document.documentElement.innerHTML = "";
} else if (params.get("type") == "readonly") {
    document.documentElement.innerHTML = getCookie("message");
}
</script>
</body>
</html>